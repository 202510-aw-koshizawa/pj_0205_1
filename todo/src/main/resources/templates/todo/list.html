<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>ToDo一覧</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
          rel="stylesheet">
</head>
<body>
    <nav class="navbar navbar-dark bg-primary">
        <div class="container">
            <span class="navbar-brand">ToDoアプリ</span>
        </div>
    </nav>

    <div class="container mt-4">
        <h1>ToDo一覧</h1>

        <div th:if="${message}" class="alert alert-success" role="alert"
             th:text="${message}">登録が完了しました</div>

        <a th:href="@{/todos/new}" class="btn btn-success mb-3">
            新規作成
        </a>

        <table class="table table-striped">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>タイトル</th>
                    <th>ステータス</th>
                    <th>操作</th>
                </tr>
            </thead>
            <tbody>
                <tr th:each="todo : ${todos}">
                    <td th:text="${todo.id}">1</td>
                    <td th:text="${todo.title}">サンプルタスク</td>
                    <td th:text="${todo.completed ? '完了' : '未完了'}">未完了</td>
                    <td>
                        <a th:href="@{/todos/{id}(id=${todo.id})}"
                           class="btn btn-info btn-sm">詳細</a>
                        <a th:href="@{/todos/{id}/edit(id=${todo.id})}"
                           class="btn btn-warning btn-sm">編集</a>
                        <a th:href="@{/todos/{id}/delete(id=${todo.id})}"
                           class="btn btn-danger btn-sm">削除</a>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>

    <footer class="bg-light text-center py-3 mt-5">
        <p>&copy; 2024 ToDoアプリ</p>
    </footer>
</body>
</html>
